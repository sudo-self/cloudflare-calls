import{a as Ve}from"/build/_shared/chunk-4AJYUVQ2.js";import{a as ti}from"/build/_shared/chunk-IXZIAJVT.js";import"/build/_shared/chunk-Q6O6U2OX.js";import{A as Ho,B as tr,C as Uo,D as $o,E as Xo,F as Vo,G as Or,H as Go,I as Jo,J as Ko,K as jo,L as Yo,M as qo,N as Zo,O as zo,P as Br,Q as rr,R as nr,S as Hr,T as or,U as Qo,V as ir,W as Ur,Y as ei,a as ye,b as Eo,c as Qt,d as x,e as T,f as $e,g as mt,h as Do,i as Xe,j as Fr,k as Nr,l as wo,m as xo,n as _o,o as Lo,p as Et,q as Dt,r as ne,s as Fo,t as No,u as ko,v as Wt,w as er,x as Oo,y as be,z as Bo}from"/build/_shared/chunk-FBY3JOII.js";import{a as Zt,b as ge,c as To,d as Io,e as ve,f as Mo,g as kr,h as Wo}from"/build/_shared/chunk-SWQS7VDC.js";import{a as Cs}from"/build/_shared/chunk-O5ZMIQP7.js";import{c as D}from"/build/_shared/chunk-3VBROEUY.js";import"/build/_shared/chunk-PYJLC5PR.js";import{a as B}from"/build/_shared/chunk-YERPF2QY.js";import{a as zt}from"/build/_shared/chunk-6M6UZGDQ.js";import{f as qt,g as ft,h as _r,i as Ro,j as Lr}from"/build/_shared/chunk-KS76FAJ5.js";import{a as Ps,b as N}from"/build/_shared/chunk-45HVJOSI.js";import{b as jt,d as Yt,k as Ao,l as So}from"/build/_shared/chunk-LQCCCPTH.js";import{a as F,b as C}from"/build/_shared/chunk-3YOPFW4A.js";import{c as Co,d as f}from"/build/_shared/chunk-5YSEWQXG.js";var bl=f(Ps());var ie=f(F());function $r(e){if(e.constructor!==Array)throw new TypeError("Expected array.");if(e.length===16)return e;if(e.length===6){var t=ht();return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}throw new RangeError("Expected array with either 6 or 16 values.")}function ht(){for(var e=[],t=0;t<16;t++)t%5==0?e.push(1):e.push(0);return e}function ri(e,t){for(var r=$r(e),n=$r(t),o=[],i=0;i<4;i++)for(var a=[r[i],r[i+4],r[i+8],r[i+12]],s=0;s<4;s++){var c=s*4,l=[n[c],n[c+1],n[c+2],n[c+3]],p=a[0]*l[0]+a[1]*l[1]+a[2]*l[2]+a[3]*l[3];o[i+c]=p}return o}function ni(e){if(typeof e=="string"){var t=e.match(/matrix(3d)?\(([^)]+)\)/);if(t){var r=t[2].split(", ").map(parseFloat);return $r(r)}}return ht()}function oi(e){var t=ht();return t[0]=e,t}function ii(e){var t=ht();return t[5]=e,t}function ai(e){var t=ht();return t[12]=e,t}function si(e){var t=ht();return t[13]=e,t}var ar=function(e){return typeof e=="number"},mi=function(e){return typeof e=="function"},hi=function(e){return Object.prototype.toString.call(e)==="[object Object]"},gt=function(e){return Array.prototype.slice.apply(e)},gi=function(e){var t=e.reduce(function(r,n){return r[n]=(r[n]||0)+1,r},{});return Object.keys(t).filter(function(r){return t[r]>1})};function Ge(e){return[].slice.call(arguments,1).forEach(function(t){if(t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}),e}var Vr,Gr=function(e,t,r){return e+(t-e)*r},Kr={__proto__:null,isNumber:ar,isFunction:mi,isObject:hi,toArray:gt,getDuplicateValsAsStrings:gi,assign:Ge,tweenProp:Gr},jr="data-flip-id",Yr="data-inverse-flip-id",qr="data-portal-key",vi="data-exit-container",wt={__proto__:null,DATA_FLIP_ID:jr,DATA_INVERSE_FLIP_ID:Yr,DATA_FLIP_COMPONENT_ID:"data-flip-component-id",DATA_FLIP_CONFIG:"data-flip-config",DATA_PORTAL_KEY:qr,DATA_EXIT_CONTAINER:vi},Jr={noWobble:{stiffness:200,damping:26},gentle:{stiffness:120,damping:14},veryGentle:{stiffness:130,damping:17},wobbly:{stiffness:180,damping:12},stiff:{stiffness:260,damping:26}},ci=function(e){return hi(e)?e:Object.keys(Jr).indexOf(e)>-1?Jr[e]:{}};typeof window<"u"&&(Vr=window.requestAnimationFrame);var Ss=Vr=Vr||function(e){window.setTimeout(e,1e3/60)},Rs=Date.now(),Ts=typeof performance=="object"&&typeof performance.now=="function"?function(){return performance.now()}:function(){return Date.now()-Rs};function yi(e,t){var r=e.indexOf(t);r!==-1&&e.splice(r,1)}var Is=function(){function e(){}return e.prototype.run=function(){var t=this;Ss(function(){t.springSystem.loop(Ts())})},e}(),Xr=function(){this.position=0,this.velocity=0},Ms=0,pe=.001,Es=function(){function e(r){this._id="s"+Ms++,this._springSystem=r,this.listeners=[],this._startValue=0,this._currentState=new Xr,this._displacementFromRestThreshold=.001,this._endValue=0,this._overshootClampingEnabled=!1,this._previousState=new Xr,this._restSpeedThreshold=.001,this._tempState=new Xr,this._timeAccumulator=0,this._wasAtRest=!0,this._cachedSpringConfig={}}var t=e.prototype;return t.getId=function(){return this._id},t.destroy=function(){this.listeners=[],this._springSystem.deregisterSpring(this)},t.setSpringConfig=function(r){return this._springConfig=r,this},t.getCurrentValue=function(){return this._currentState.position},t.getDisplacementDistanceForState=function(r){return Math.abs(this._endValue-r.position)},t.setEndValue=function(r){if(r===this._endValue)return this;if(this.prevEndValue=r,this._endValue===r&&this.isAtRest())return this;this._startValue=this.getCurrentValue(),this._endValue=r,this._springSystem.activateSpring(this.getId());for(var n=0,o=this.listeners.length;n<o;n++){var i=this.listeners[n].onSpringEndStateChange;i&&i(this)}return this},t.setVelocity=function(r){return r===this._currentState.velocity||(this._currentState.velocity=r,this._springSystem.activateSpring(this.getId())),this},t.setCurrentValue=function(r){this._startValue=r,this._currentState.position=r;for(var n=0,o=this.listeners.length;n<o;n++){var i=this.listeners[n];i.onSpringUpdate&&i.onSpringUpdate(this)}return this},t.setAtRest=function(){return this._endValue=this._currentState.position,this._tempState.position=this._currentState.position,this._currentState.velocity=0,this},t.setOvershootClampingEnabled=function(r){return this._overshootClampingEnabled=r,this},t.isOvershooting=function(){var r=this._startValue,n=this._endValue;return this._springConfig.tension>0&&(r<n&&this.getCurrentValue()>n||r>n&&this.getCurrentValue()<n)},t.advance=function(r,n){var o=this.isAtRest();if(!o||!this._wasAtRest){var i=n;n>.064&&(i=.064),this._timeAccumulator+=i;for(var a,s,c,l,p,u,g=this._springConfig.tension,h=this._springConfig.friction,d=this._currentState.position,b=this._currentState.velocity,E=this._tempState.position,A=this._tempState.velocity;this._timeAccumulator>=pe;)this._timeAccumulator-=pe,this._timeAccumulator<pe&&(this._previousState.position=d,this._previousState.velocity=b),s=g*(this._endValue-E)-h*b,l=g*(this._endValue-(E=d+(a=b)*pe*.5))-h*(A=b+s*pe*.5),u=g*(this._endValue-(E=d+(c=A)*pe*.5))-h*(A=b+l*pe*.5),E=d+(p=A)*pe,d+=1/6*(a+2*(c+p)+(A=b+u*pe))*pe,b+=1/6*(s+2*(l+u)+(g*(this._endValue-E)-h*A))*pe;this._tempState.position=E,this._tempState.velocity=A,this._currentState.position=d,this._currentState.velocity=b,this._timeAccumulator>0&&this._interpolate(this._timeAccumulator/pe),(this.isAtRest()||this._overshootClampingEnabled&&this.isOvershooting())&&(this._springConfig.tension>0?(this._startValue=this._endValue,this._currentState.position=this._endValue):(this._endValue=this._currentState.position,this._startValue=this._endValue),this.setVelocity(0),o=!0);var U=!1;this._wasAtRest&&(this._wasAtRest=!1,U=!0);var ae=!1;o&&(this._wasAtRest=!0,ae=!0),this.notifyPositionUpdated(U,ae)}},t.notifyPositionUpdated=function(r,n){var o=this;this.listeners.filter(Boolean).forEach(function(i){r&&i.onSpringActivate&&!o._onActivateCalled&&(i.onSpringActivate(o),o._onActivateCalled=!0),i.onSpringUpdate&&i.onSpringUpdate(o),n&&i.onSpringAtRest&&i.onSpringAtRest(o)})},t.systemShouldAdvance=function(){return!this.isAtRest()||!this.wasAtRest()},t.wasAtRest=function(){return this._wasAtRest},t.isAtRest=function(){return Math.abs(this._currentState.velocity)<this._restSpeedThreshold&&(this.getDisplacementDistanceForState(this._currentState)<=this._displacementFromRestThreshold||this._springConfig.tension===0)},t._interpolate=function(r){this._currentState.position=this._currentState.position*r+this._previousState.position*(1-r),this._currentState.velocity=this._currentState.velocity*r+this._previousState.velocity*(1-r)},t.addListener=function(r){return this.listeners.push(r),this},t.addOneTimeListener=function(r){var n=this;return Object.keys(r).forEach(function(o){var i;r[o]=(i=r[o],function(){i.apply(void 0,[].slice.call(arguments)),n.removeListener(r)})}),this.listeners.push(r),this},t.removeListener=function(r){return yi(this.listeners,r),this},e}(),bi=function(){function e(r){this.looper=r||new Is,this.looper.springSystem=this,this.listeners=[],this._activeSprings=[],this._idleSpringIndices=[],this._isIdle=!0,this._lastTimeMillis=-1,this._springRegistry={}}var t=e.prototype;return t.createSpring=function(r,n){return this.createSpringWithConfig({tension:r,friction:n})},t.createSpringWithConfig=function(r){var n=new Es(this);return this.registerSpring(n),n.setSpringConfig(r),n},t.getIsIdle=function(){return this._isIdle},t.registerSpring=function(r){this._springRegistry[r.getId()]=r},t.deregisterSpring=function(r){yi(this._activeSprings,r),delete this._springRegistry[r.getId()]},t.advance=function(r,n){for(var o=this;this._idleSpringIndices.length>0;)this._idleSpringIndices.pop();for(this._activeSprings.filter(Boolean).forEach(function(a){a.systemShouldAdvance()?a.advance(r/1e3,n/1e3):o._idleSpringIndices.push(o._activeSprings.indexOf(a))});this._idleSpringIndices.length>0;){var i=this._idleSpringIndices.pop();i>=0&&this._activeSprings.splice(i,1)}},t.loop=function(r){var n;this._lastTimeMillis===-1&&(this._lastTimeMillis=r-1);var o=r-this._lastTimeMillis;this._lastTimeMillis=r;var i=0,a=this.listeners.length;for(i=0;i<a;i++)(n=this.listeners[i]).onBeforeIntegrate&&n.onBeforeIntegrate(this);for(this.advance(r,o),this._activeSprings.length===0&&(this._isIdle=!0,this._lastTimeMillis=-1),i=0;i<a;i++)(n=this.listeners[i]).onAfterIntegrate&&n.onAfterIntegrate(this);this._isIdle||this.looper.run()},t.activateSpring=function(r){var n=this._springRegistry[r];this._activeSprings.indexOf(n)===-1&&this._activeSprings.push(n),this.getIsIdle()&&(this._isIdle=!1,this.looper.run())},e}(),Ds=new bi,Pi=function(e){var t=e.springConfig,r=t.overshootClamping,n=e.getOnUpdateFunc,o=e.onAnimationEnd,i=e.onSpringActivate,a=Ds.createSpring(t.stiffness,t.damping);a.setOvershootClampingEnabled(!!r);var s={onSpringActivate:i,onSpringAtRest:function(){a.destroy(),o()},onSpringUpdate:n({spring:a,onAnimationEnd:o})};return a.addListener(s),a},li=function(e){var t=Pi(e);return t.setEndValue(1),t},ui=function(e,t){if(t===void 0&&(t={}),e&&e.length){t.reverse&&e.reverse();var r,n=typeof(r=t.speed)!="number"?1.1:1+Math.min(Math.max(5*r,0),5),o=1/Math.max(Math.min(e.length,100),10),i=e.map(function(a,s){var c=a.getOnUpdateFunc;return a.getOnUpdateFunc=function(l){var p=c(l);return function(u){var g=u.getCurrentValue();(g=g<.01?0:g>.99?1:g)>=o&&i[s+1]&&i[s+1](Math.max(Math.min(g*n,1),0)),p(u)}},a}).map(function(a){var s=Pi(a);if(s)return s.setEndValue.bind(s)}).filter(Boolean);i[0]&&i[0](1)}},pi=function(e){return[0,1,4,5,12,13].map(function(t){return e[t]})},di=function(e){return e.top<window.innerHeight&&e.bottom>0&&e.left<window.innerWidth&&e.right>0};function fi(e){return JSON.parse(e.dataset.flipConfig||"{}")}var Ci=function(e,t){var r;return Ge(e,((r={})[t[0]]=t[1],r))},Ai=function(e,t){return gt(t?document.querySelectorAll("["+qr+'="'+t+'"]'):e.querySelectorAll("["+jr+"]"))},Si=function(e){return e.map(function(t){return[t,t.getBoundingClientRect()]})},ws=!0;var Ri=function(e){var t=e.cachedOrderedFlipIds,r=t===void 0?[]:t,n=e.inProgressAnimations,o=n===void 0?{}:n,i=e.flippedElementPositionsBeforeUpdate,a=i===void 0?{}:i,s=e.flipCallbacks,c=s===void 0?{}:s,l=e.containerEl,p=e.applyTransformOrigin,u=e.spring,g=e.debug,h=e.portalKey,d=e.staggerConfig,b=d===void 0?{}:d,E=e.decisionData,A=E===void 0?{}:E,U=e.handleEnterUpdateDelete,ae=e.onComplete,Ae=e.onStart;if(ws&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches){var Se,se=Si(Ai((Se={element:l,portalKey:h}).element,Se.portalKey)).map(function(S){var v=S[0],G=S[1],R=window.getComputedStyle(v);return[v.dataset.flipId,{element:v,rect:G,opacity:parseFloat(R.opacity),transform:R.transform}]}).reduce(Ci,{}),z=function(S){var v=S.containerEl,G=S.portalKey;return G?function(R){return function(Q){return gt(document.querySelectorAll("["+qr+'="'+R+'"]'+Q))}}(G):v?function(R){var Q=Math.random().toFixed(5);return R.dataset.flipperId=Q,function(me){return gt(R.querySelectorAll('[data-flipper-id="'+Q+'"] '+me))}}(v):function(){return[]}}({containerEl:l,portalKey:h}),V=function(S){return function(v){return S("["+jr+'="'+v+'"]')[0]}}(z),w=function(S){return a[S]&&se[S]},te=Object.keys(a).concat(Object.keys(se)).filter(function(S){return!w(S)}),Re={flipCallbacks:c,getElement:V,flippedElementPositionsBeforeUpdate:a,flippedElementPositionsAfterUpdate:se,inProgressAnimations:o,decisionData:A},xe=function(S){var v,G=S.unflippedIds,R=S.flipCallbacks,Q=S.getElement,me=S.flippedElementPositionsBeforeUpdate,Te=S.flippedElementPositionsAfterUpdate,Ze=S.inProgressAnimations,Ie=S.decisionData,j=G.filter(function(_){return Te[_]}).filter(function(_){return R[_]&&R[_].onAppear}),lt=G.filter(function(_){return me[_]&&R[_]&&R[_].onExit}),Xt=new Promise(function(_){v=_}),ut=[],At=0,he=lt.map(function(_,Oe){var Me=me[_].domDataForExitAnimations,le=Me.element,Be=Me.parent,ze=Me.childPosition,_e=ze.top,Vt=ze.left,Qe=ze.width,We=ze.height;getComputedStyle(Be).position==="static"&&(Be.style.position="relative"),le.style.transform="matrix(1, 0, 0, 1, 0, 0)",le.style.position="absolute",le.style.top=_e+"px",le.style.left=Vt+"px",le.style.height=We+"px",le.style.width=Qe+"px";var et=ut.filter(function(St){return St[0]===Be})[0];et||(et=[Be,document.createDocumentFragment()],ut.push(et)),et[1].appendChild(le),At+=1;var pt=function(){try{Be.removeChild(le)}catch{}finally{(At-=1)==0&&v()}};return Ze[_]={stop:pt},function(){return R[_].onExit(le,Oe,pt,Ie)}});return ut.forEach(function(_){_[0].appendChild(_[1])}),he.length||v(),{hideEnteringElements:function(){j.forEach(function(_){var Oe=Q(_);Oe&&(Oe.style.opacity="0")})},animateEnteringElements:function(){j.forEach(function(_,Oe){var Me=Q(_);Me&&R[_].onAppear(Me,Oe,Ie)})},animateExitingElements:function(){return he.forEach(function(_){return _()}),Xt}}}(Ge({},Re,{unflippedIds:te})),Ye=xe.hideEnteringElements,qe=xe.animateEnteringElements,ct=xe.animateExitingElements,fe=Ge({},Re,{containerEl:l,flippedIds:r.filter(w),applyTransformOrigin:p,spring:u,debug:g,staggerConfig:b,scopedSelector:z,onComplete:ae});Ae&&Ae(l,A);var $t=function(S){var v,G=S.flippedIds,R=S.flipCallbacks,Q=S.inProgressAnimations,me=S.flippedElementPositionsBeforeUpdate,Te=S.flippedElementPositionsAfterUpdate,Ze=S.applyTransformOrigin,Ie=S.spring,j=S.getElement,lt=S.debug,Xt=S.staggerConfig,ut=Xt===void 0?{}:Xt,At=S.decisionData,he=At===void 0?{}:At,_=S.onComplete,Oe=S.containerEl,Me=new Promise(function(m){v=m});if(_&&Me.then(function(){return _(Oe,he)}),!G.length)return function(){return v([]),Me};var le=[],Be=j(G[0]),ze=Be?Be.ownerDocument.querySelector("body"):document.querySelector("body");gi(G);var _e=G.map(function(m){var L=me[m].rect,q=Te[m].rect,Rt=me[m].opacity,oo=Te[m].opacity,io=q.width<1||q.height<1,re=Te[m].element;if(!di(L)&&!di(q)||!re)return!1;var ao,so,co,Le=fi(re),lo=(co=(so=(ao={flipperSpring:Ie,flippedSpring:Le.spring})===void 0?{}:ao).flippedSpring,Ge({},Jr.noWobble,ci(so.flipperSpring),ci(co))),uo=Le.stagger===!0?"default":Le.stagger,ps={element:re,id:m,stagger:uo,springConfig:lo};if(R[m]&&R[m].shouldFlip&&!R[m].shouldFlip(he.previous,he.current))return!1;var ds=Math.abs(L.left-q.left)+Math.abs(L.top-q.top),fs=Math.abs(L.width-q.width)+Math.abs(L.height-q.height),ms=Math.abs(oo-Rt);if(L.height===0&&q.height===0||L.width===0&&q.width===0||ds<.5&&fs<.5&&ms<.01)return!1;var po=ni(Te[m].transform),tt={matrix:po},He={matrix:[]},Tt=[po];Le.translate&&(Tt.push(ai(L.left-q.left)),Tt.push(si(L.top-q.top))),Le.scale&&(Tt.push(oi(Math.max(L.width,1)/Math.max(q.width,1))),Tt.push(ii(Math.max(L.height,1)/Math.max(q.height,1)))),Le.opacity&&(He.opacity=Rt,tt.opacity=oo);var Gt=[];if(!R[m]||!R[m].shouldInvert||R[m].shouldInvert(he.previous,he.current)){var hs=function(W,ce){return gt(W.querySelectorAll("["+Yr+'="'+ce+'"]'))}(re,m);Gt=hs.map(function(W){return[W,fi(W)]})}He.matrix=pi(Tt.reduce(ri)),tt.matrix=pi(tt.matrix);var Dr,fo=function(W){var ce=W.element,rt=W.invertedChildren,It=W.body;return function(dt){var nt=dt.matrix,Jt=dt.opacity,wr=dt.forceMinVals;if(ar(Jt)&&(ce.style.opacity=Jt+""),wr&&(ce.style.minHeight="1px",ce.style.minWidth="1px"),nt){var vs=function(Mt){return"matrix("+Mt.join(", ")+")"}(nt);ce.style.transform=vs,rt&&function(Mt){var Kt=Mt.matrix,ys=Mt.body;Mt.invertedChildren.forEach(function(go){var vo=go[0],yo=go[1];if(ys.contains(vo)){var bo=Kt[0],Po=Kt[3],bs=Kt[5],Ue={translateX:0,translateY:0,scaleX:1,scaleY:1},xr="";yo.translate&&(Ue.translateX=-Kt[4]/bo,Ue.translateY=-bs/Po,xr+="translate("+Ue.translateX+"px, "+Ue.translateY+"px)"),yo.scale&&(Ue.scaleX=1/bo,Ue.scaleY=1/Po,xr+=" scale("+Ue.scaleX+", "+Ue.scaleY+")"),vo.style.transform=xr}})}({invertedChildren:rt,matrix:nt,body:It})}}}({element:re,invertedChildren:Gt,body:ze});if(R[m]&&R[m].onComplete){var gs=R[m].onComplete;Dr=function(){return gs(re,he)}}var mo=ar(He.opacity)&&ar(tt.opacity)&&He.opacity!==tt.opacity,ho=!1;return Ge({},ps,{stagger:uo,springConfig:lo,getOnUpdateFunc:function(W){var ce=W.spring,rt=W.onAnimationEnd;return Q[m]={destroy:ce.destroy.bind(ce),onAnimationEnd:rt},function(It){R[m]&&R[m].onSpringUpdate&&R[m].onSpringUpdate(It.getCurrentValue()),ho||(ho=!0,R[m]&&R[m].onStart&&R[m].onStart(re,he));var dt=It.getCurrentValue();if(ze.contains(re)){var nt={matrix:[]};nt.matrix=He.matrix.map(function(Jt,wr){return Gr(Jt,tt.matrix[wr],dt)}),mo&&(nt.opacity=Gr(He.opacity,tt.opacity,dt)),fo(nt)}else It.destroy()}},initializeFlip:function(){fo({matrix:He.matrix,opacity:mo?He.opacity:void 0,forceMinVals:io}),R[m]&&R[m].onStartImmediate&&R[m].onStartImmediate(re,he),Le.transformOrigin?re.style.transformOrigin=Le.transformOrigin:Ze&&(re.style.transformOrigin="0 0"),Gt.forEach(function(W){var ce=W[0],rt=W[1];rt.transformOrigin?ce.style.transformOrigin=rt.transformOrigin:Ze&&(ce.style.transformOrigin="0 0")})},onAnimationEnd:function(W){delete Q[m],mi(Dr)&&Dr(),re.style.transform="",Gt.forEach(function(ce){ce[0].style.transform=""}),io&&re&&(re.style.minHeight="",re.style.minWidth=""),W||(le.push(m),le.length>=_e.length&&v(le))},delayUntil:Le.delayUntil})}).filter(Boolean);if(_e.forEach(function(m){return(0,m.initializeFlip)()}),lt)return function(){};var Vt=_e.filter(function(m){return m.delayUntil&&(L=m.delayUntil,_e.filter(function(q){return q.id===L}).length);var L}),Qe={},We={},et={};Vt.forEach(function(m){m.stagger?(et[m.stagger]=!0,We[m.delayUntil]?We[m.delayUntil].push(m.stagger):We[m.delayUntil]=[m.stagger]):Qe[m.delayUntil]?Qe[m.delayUntil].push(m):Qe[m.delayUntil]=[m]});var pt=_e.filter(function(m){return m.stagger}).reduce(function(m,L){return m[L.stagger]?m[L.stagger].push(L):m[L.stagger]=[L],m},{}),St=_e.filter(function(m){return Vt.indexOf(m)===-1});return St.forEach(function(m){m.onSpringActivate=function(){Qe[m.id]&&Qe[m.id].forEach(li),We[m.id]&&Object.keys(We[m.id].reduce(function(L,q){var Rt;return Ge(L,((Rt={})[q]=!0,Rt))},{})).forEach(function(L){ui(pt[L],ut[L])})}}),function(){return _e.length||v([]),St.filter(function(m){return!m.stagger}).forEach(li),Object.keys(pt).forEach(function(m){et[m]||ui(pt[m],ut[m])}),Me}}(fe);U?U({hideEnteringElements:Ye,animateEnteringElements:qe,animateExitingElements:ct,animateFlippedElements:$t}):(Ye(),ct().then(qe),$t())}},Ti=function(e){var t=e.element,r=e.flipCallbacks,n=r===void 0?{}:r,o=e.inProgressAnimations,i=o===void 0?{}:o,a=Ai(t,e.portalKey),s=gt(t.querySelectorAll("["+Yr+"]")),c={},l=[],p={};a.filter(function(h){return n&&n[h.dataset.flipId]&&n[h.dataset.flipId].onExit}).forEach(function(h){var d=h.parentNode;if(h.closest){var b=h.closest("["+vi+"]");b&&(d=b)}var E=l.findIndex(function(A){return A[0]===d});E===-1&&(l.push([d,d.getBoundingClientRect()]),E=l.length-1),c[h.dataset.flipId]=l[E][1],p[h.dataset.flipId]=d});var u=Si(a),g=u.map(function(h){var d=h[0],b=h[1],E={};if(n&&n[d.dataset.flipId]&&n[d.dataset.flipId].onExit){var A=c[d.dataset.flipId];Ge(E,{element:d,parent:p[d.dataset.flipId],childPosition:{top:b.top-A.top,left:b.left-A.left,width:b.width,height:b.height}})}return[d.dataset.flipId,{rect:b,opacity:parseFloat(window.getComputedStyle(d).opacity||"1"),domDataForExitAnimations:E}]}).reduce(Ci,{});return function(h,d){Object.keys(h).forEach(function(b){h[b].destroy&&h[b].destroy(),h[b].onAnimationEnd&&h[b].onAnimationEnd(!0),delete h[b]}),d.forEach(function(b){b.style.transform="",b.style.opacity=""})}(i,a.concat(s)),{flippedElementPositions:g,cachedOrderedFlipIds:u.map(function(h){return h[0].dataset.flipId})}};var Sl=new bi;var Z=f(F());function sr(){return sr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sr.apply(this,arguments)}function Zr(e,t){return Zr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Zr(e,t)}function Mi(e,t){if(e==null)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t.indexOf(r=i[n])>=0||(o[r]=e[r]);return o}var Ei=(0,Z.createContext)({}),Di=(0,Z.createContext)("portal"),zr=function(e){var t,r;function n(){for(var i,a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(i=e.call.apply(e,[this].concat(s))||this).inProgressAnimations={},i.flipCallbacks={},i.el=void 0,i}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,Zr(t,r);var o=n.prototype;return o.getSnapshotBeforeUpdate=function(i){return i.flipKey!==this.props.flipKey&&this.el?Ti({element:this.el,flipCallbacks:this.flipCallbacks,inProgressAnimations:this.inProgressAnimations,portalKey:this.props.portalKey}):null},o.componentDidUpdate=function(i,a,s){this.props.flipKey!==i.flipKey&&this.el&&Ri({flippedElementPositionsBeforeUpdate:s.flippedElementPositions,cachedOrderedFlipIds:s.cachedOrderedFlipIds,containerEl:this.el,inProgressAnimations:this.inProgressAnimations,flipCallbacks:this.flipCallbacks,applyTransformOrigin:this.props.applyTransformOrigin,spring:this.props.spring,debug:this.props.debug,portalKey:this.props.portalKey,staggerConfig:this.props.staggerConfig,handleEnterUpdateDelete:this.props.handleEnterUpdateDelete,decisionData:{previous:i.decisionData,current:this.props.decisionData},onComplete:this.props.onComplete,onStart:this.props.onStart})},o.render=function(){var i=this,a=this.props,s=a.portalKey,c=Z.default.createElement(Ei.Provider,{value:this.flipCallbacks},Z.default.createElement(a.element,{className:a.className,ref:function(l){return i.el=l}},this.props.children));return s&&(c=Z.default.createElement(Di.Provider,{value:s},c)),c},n}(Z.Component);zr.defaultProps={applyTransformOrigin:!0,element:"div"};var xs=["children","flipId","inverseFlipId","portalKey"],_s=["children","flipId","shouldFlip","shouldInvert","onAppear","onStart","onStartImmediate","onComplete","onExit","onSpringUpdate"],Ii=function(e){var t,r=e.children,n=e.flipId,o=e.inverseFlipId,i=e.portalKey,a=Mi(e,xs),s=r,c=function(p){return typeof p=="function"}(s);if(!c)try{s=Z.Children.only(r)}catch{throw new Error("Each Flipped component must wrap a single child")}a.scale||a.translate||a.opacity||Kr.assign(a,{translate:!0,scale:!0,opacity:!0});var l=((t={})[wt.DATA_FLIP_CONFIG]=JSON.stringify(a),t);return n!==void 0?l[wt.DATA_FLIP_ID]=String(n):o&&(l[wt.DATA_INVERSE_FLIP_ID]=String(o)),i!==void 0&&(l[wt.DATA_PORTAL_KEY]=i),c?s(l):(0,Z.cloneElement)(s,l)},Qr=function(e){var t=e.children,r=e.flipId,n=e.shouldFlip,o=e.shouldInvert,i=e.onAppear,a=e.onStart,s=e.onStartImmediate,c=e.onComplete,l=e.onExit,p=e.onSpringUpdate,u=Mi(e,_s);return t?u.inverseFlipId?Z.default.createElement(Ii,sr({},u),t):Z.default.createElement(Di.Consumer,null,function(g){return Z.default.createElement(Ei.Consumer,null,function(h){return Kr.isObject(h)&&r&&(h[r]={shouldFlip:n,shouldInvert:o,onAppear:i,onStart:a,onStartImmediate:s,onComplete:c,onExit:l,onSpringUpdate:p}),Z.default.createElement(Ii,sr({flipId:r},u,{portalKey:g}),t)})}):null};Qr.displayName="Flipped";var ur=f(F());var cr=f(F());function lr(e,t){let[r,n]=(0,cr.useState)(e);return(0,cr.useEffect)(()=>{let o=window.setTimeout(()=>{n(e)},t);return()=>{clearTimeout(o)}},[e,t]),r}var $=f(C());function Ls(){let{peer:e}=x(),[t,r]=(0,ur.useState)(e==null?void 0:e.getDebugInfo());return(0,ur.useEffect)(()=>{let n=setInterval(()=>{r(e==null?void 0:e.getDebugInfo())},1e3);return()=>{clearInterval(n)}},[e]),t!=null?t:{}}function wi(){let{inboundPacketLossPercentage:e,outboundPacketLossPercentage:t}=Ls(),r=lr(e!==void 0&&t!==void 0&&e>.01&&t>.01,3e3);if(e===void 0||t===void 0||!r)return null;let n=(e*100).toFixed(2),o=(t*100).toFixed(2);return(0,$.jsx)(er,{duration:1/0,children:(0,$.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,$.jsx)("div",{className:"font-bold",children:(0,$.jsxs)(be.Title,{className:"flex items-center gap-2",children:[(0,$.jsx)(D,{type:"WifiIcon"}),"Unstable connection"]})}),(0,$.jsxs)(be.Description,{className:"space-y-2",children:[(0,$.jsx)("div",{children:"Call quality may be affected."}),(0,$.jsxs)("div",{className:"text-gray-500 dark:text-gray-200",children:[(0,$.jsx)("div",{children:"Packet Loss"}),(0,$.jsxs)("div",{className:"flex gap-4",children:[(0,$.jsxs)("div",{className:"flex items-center gap-1",children:[(0,$.jsx)("div",{className:"sr-only",children:"Outbound"}),(0,$.jsx)(D,{className:"text-gray-400 dark:text-gray-300",type:"ArrowUpOnSquareIcon"}),(0,$.jsxs)("span",{children:[o,"%"]})]}),(0,$.jsxs)("div",{className:"flex items-center gap-1",children:[(0,$.jsx)("div",{className:"sr-only",children:"Inbound"}),(0,$.jsx)(D,{className:"text-gray-400 dark:text-gray-300",type:"ArrowDownOnSquareIcon"}),(0,$.jsxs)("span",{children:[n,"%"]})]})]})]})]})]})})}var ot=f(C());function xi(){let{iceConnectionState:e}=x();return lr(e==="disconnected",2e3)?(0,ot.jsx)(er,{duration:1/0,children:(0,ot.jsx)("div",{className:"space-y-2 text-sm",children:(0,ot.jsx)("div",{className:"font-bold",children:(0,ot.jsxs)(be.Title,{className:"flex items-center gap-2",children:[(0,ot.jsx)(D,{type:"WifiIcon"}),"ICE disconnected"]})})})}):null}var vt=f(C()),_i=()=>{let e=jt();return(0,vt.jsx)(ne,{content:"Leave",children:(0,vt.jsxs)(B,{displayType:"danger",onClick:()=>{e("/")},children:[(0,vt.jsx)(ye,{children:"Leave"}),(0,vt.jsx)(D,{type:"phoneXMark"})]})})};var Rr=f(F());var _n={};Co(_n,{Arrow:()=>xn,CheckboxItem:()=>Bc,Content:()=>Dn,DropdownMenu:()=>mn,DropdownMenuArrow:()=>In,DropdownMenuCheckboxItem:()=>Cn,DropdownMenuContent:()=>vn,DropdownMenuGroup:()=>yn,DropdownMenuItem:()=>Pn,DropdownMenuItemIndicator:()=>Rn,DropdownMenuLabel:()=>bn,DropdownMenuPortal:()=>gn,DropdownMenuRadioGroup:()=>An,DropdownMenuRadioItem:()=>Sn,DropdownMenuSeparator:()=>Tn,DropdownMenuSub:()=>wa,DropdownMenuSubContent:()=>En,DropdownMenuSubTrigger:()=>Mn,DropdownMenuTrigger:()=>hn,Group:()=>kc,Item:()=>wn,ItemIndicator:()=>$c,Label:()=>Oc,Portal:()=>Nc,RadioGroup:()=>Hc,RadioItem:()=>Uc,Root:()=>Lc,Separator:()=>Xc,Sub:()=>Vc,SubContent:()=>Jc,SubTrigger:()=>Gc,Trigger:()=>Fc,createDropdownMenuScope:()=>bc});var K=f(F(),1);var y=f(F(),1);var Y=f(F(),1);var Je=f(C(),1),Wr="rovingFocusGroup.onEntryFocus",Fs={bubbles:!1,cancelable:!0},pr="RovingFocusGroup",[en,Li,Ns]=Wt(pr),[ks,tn]=$e(pr,[Ns]),[Os,Bs]=ks(pr),Fi=Y.forwardRef((e,t)=>(0,Je.jsx)(en.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,Je.jsx)(en.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,Je.jsx)(Hs,{...e,ref:t})})}));Fi.displayName=pr;var Hs=Y.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:p=!1,...u}=e,g=Y.useRef(null),h=ge(t,g),d=tr(i),[b=null,E]=Dt({prop:a,defaultProp:s,onChange:c}),[A,U]=Y.useState(!1),ae=mt(l),Ae=Li(r),Se=Y.useRef(!1),[se,z]=Y.useState(0);return Y.useEffect(()=>{let V=g.current;if(V)return V.addEventListener(Wr,ae),()=>V.removeEventListener(Wr,ae)},[ae]),(0,Je.jsx)(Os,{scope:r,orientation:n,dir:d,loop:o,currentTabStopId:b,onItemFocus:Y.useCallback(V=>E(V),[E]),onItemShiftTab:Y.useCallback(()=>U(!0),[]),onFocusableItemAdd:Y.useCallback(()=>z(V=>V+1),[]),onFocusableItemRemove:Y.useCallback(()=>z(V=>V-1),[]),children:(0,Je.jsx)(ve.div,{tabIndex:A||se===0?-1:0,"data-orientation":n,...u,ref:h,style:{outline:"none",...e.style},onMouseDown:T(e.onMouseDown,()=>{Se.current=!0}),onFocus:T(e.onFocus,V=>{let w=!Se.current;if(V.target===V.currentTarget&&w&&!A){let te=new CustomEvent(Wr,Fs);if(V.currentTarget.dispatchEvent(te),!te.defaultPrevented){let Re=Ae().filter(fe=>fe.focusable),xe=Re.find(fe=>fe.active),Ye=Re.find(fe=>fe.id===b),ct=[xe,Ye,...Re].filter(Boolean).map(fe=>fe.ref.current);Oi(ct,p)}}Se.current=!1}),onBlur:T(e.onBlur,()=>U(!1))})})}),Ni="RovingFocusGroupItem",ki=Y.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:i,...a}=e,s=Xe(),c=i||s,l=Bs(Ni,r),p=l.currentTabStopId===c,u=Li(r),{onFocusableItemAdd:g,onFocusableItemRemove:h}=l;return Y.useEffect(()=>{if(n)return g(),()=>h()},[n,g,h]),(0,Je.jsx)(en.ItemSlot,{scope:r,id:c,focusable:n,active:o,children:(0,Je.jsx)(ve.span,{tabIndex:p?0:-1,"data-orientation":l.orientation,...a,ref:t,onMouseDown:T(e.onMouseDown,d=>{n?l.onItemFocus(c):d.preventDefault()}),onFocus:T(e.onFocus,()=>l.onItemFocus(c)),onKeyDown:T(e.onKeyDown,d=>{if(d.key==="Tab"&&d.shiftKey){l.onItemShiftTab();return}if(d.target!==d.currentTarget)return;let b=Xs(d,l.orientation,l.dir);if(b!==void 0){if(d.metaKey||d.ctrlKey||d.altKey||d.shiftKey)return;d.preventDefault();let A=u().filter(U=>U.focusable).map(U=>U.ref.current);if(b==="last")A.reverse();else if(b==="prev"||b==="next"){b==="prev"&&A.reverse();let U=A.indexOf(d.currentTarget);A=l.loop?Vs(A,U+1):A.slice(U+1)}setTimeout(()=>Oi(A))}})})})});ki.displayName=Ni;var Us={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $s(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Xs(e,t,r){let n=$s(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Us[n]}function Oi(e,t=!1){let r=document.activeElement;for(let n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Vs(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Bi=Fi,Hi=ki;var P=f(C(),1),rn=["Enter"," "],Js=["ArrowDown","PageUp","Home"],$i=["ArrowUp","PageDown","End"],Ks=[...Js,...$i],js={ltr:[...rn,"ArrowRight"],rtl:[...rn,"ArrowLeft"]},Ys={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ft="Menu",[_t,qs,Zs]=Wt(Ft),[it,nn]=$e(Ft,[Zs,Fr,tn]),Nt=Fr(),Xi=tn(),[Vi,Ke]=it(Ft),[zs,kt]=it(Ft),Gi=e=>{let{__scopeMenu:t,open:r=!1,children:n,dir:o,onOpenChange:i,modal:a=!0}=e,s=Nt(t),[c,l]=y.useState(null),p=y.useRef(!1),u=mt(i),g=tr(o);return y.useEffect(()=>{let h=()=>{p.current=!0,document.addEventListener("pointerdown",d,{capture:!0,once:!0}),document.addEventListener("pointermove",d,{capture:!0,once:!0})},d=()=>p.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",d,{capture:!0}),document.removeEventListener("pointermove",d,{capture:!0})}},[]),(0,P.jsx)(Nr,{...s,children:(0,P.jsx)(Vi,{scope:t,open:r,onOpenChange:u,content:c,onContentChange:l,children:(0,P.jsx)(zs,{scope:t,onClose:y.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:p,dir:g,modal:a,children:n})})})};Gi.displayName=Ft;var Qs="MenuAnchor",on=y.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e,o=Nt(r);return(0,P.jsx)(wo,{...o,...n,ref:t})});on.displayName=Qs;var an="MenuPortal",[Ws,Ji]=it(an,{forceMount:void 0}),Ki=e=>{let{__scopeMenu:t,forceMount:r,children:n,container:o}=e,i=Ke(an,t);return(0,P.jsx)(Ws,{scope:t,forceMount:r,children:(0,P.jsx)(Et,{present:r||i.open,children:(0,P.jsx)(Lo,{asChild:!0,container:o,children:n})})})};Ki.displayName=an;var de="MenuContent",[ec,sn]=it(de),ji=y.forwardRef((e,t)=>{let r=Ji(de,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,i=Ke(de,e.__scopeMenu),a=kt(de,e.__scopeMenu);return(0,P.jsx)(_t.Provider,{scope:e.__scopeMenu,children:(0,P.jsx)(Et,{present:n||i.open,children:(0,P.jsx)(_t.Slot,{scope:e.__scopeMenu,children:a.modal?(0,P.jsx)(tc,{...o,ref:t}):(0,P.jsx)(rc,{...o,ref:t})})})})}),tc=y.forwardRef((e,t)=>{let r=Ke(de,e.__scopeMenu),n=y.useRef(null),o=ge(t,n);return y.useEffect(()=>{let i=n.current;if(i)return Xo(i)},[]),(0,P.jsx)(cn,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:T(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),rc=y.forwardRef((e,t)=>{let r=Ke(de,e.__scopeMenu);return(0,P.jsx)(cn,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),cn=y.forwardRef((e,t)=>{let{__scopeMenu:r,loop:n=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEntryFocus:c,onEscapeKeyDown:l,onPointerDownOutside:p,onFocusOutside:u,onInteractOutside:g,onDismiss:h,disableOutsideScroll:d,...b}=e,E=Ke(de,r),A=kt(de,r),U=Nt(r),ae=Xi(r),Ae=qs(r),[Se,se]=y.useState(null),z=y.useRef(null),V=ge(t,z,E.onContentChange),w=y.useRef(0),te=y.useRef(""),Re=y.useRef(0),xe=y.useRef(null),Ye=y.useRef("right"),qe=y.useRef(0),ct=d?Vo:y.Fragment,fe=d?{as:To,allowPinchZoom:!0}:void 0,$t=v=>{let G=te.current+v,R=Ae().filter(j=>!j.disabled),Q=document.activeElement,me=R.find(j=>j.ref.current===Q)?.textValue,Te=R.map(j=>j.textValue),Ze=mc(Te,G,me),Ie=R.find(j=>j.textValue===Ze)?.ref.current;(function j(lt){te.current=lt,window.clearTimeout(w.current),lt!==""&&(w.current=window.setTimeout(()=>j(""),1e3))})(G),Ie&&setTimeout(()=>Ie.focus())};y.useEffect(()=>()=>window.clearTimeout(w.current),[]),Uo();let S=y.useCallback(v=>Ye.current===xe.current?.side&&gc(v,xe.current?.area),[]);return(0,P.jsx)(ec,{scope:r,searchRef:te,onItemEnter:y.useCallback(v=>{S(v)&&v.preventDefault()},[S]),onItemLeave:y.useCallback(v=>{S(v)||(z.current?.focus(),se(null))},[S]),onTriggerLeave:y.useCallback(v=>{S(v)&&v.preventDefault()},[S]),pointerGraceTimerRef:Re,onPointerGraceIntentChange:y.useCallback(v=>{xe.current=v},[]),children:(0,P.jsx)(ct,{...fe,children:(0,P.jsx)($o,{asChild:!0,trapped:o,onMountAutoFocus:T(i,v=>{v.preventDefault(),z.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:(0,P.jsx)(Do,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:p,onFocusOutside:u,onInteractOutside:g,onDismiss:h,children:(0,P.jsx)(Bi,{asChild:!0,...ae,dir:A.dir,orientation:"vertical",loop:n,currentTabStopId:Se,onCurrentTabStopIdChange:se,onEntryFocus:T(c,v=>{A.isUsingKeyboardRef.current||v.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,P.jsx)(xo,{role:"menu","aria-orientation":"vertical","data-state":ua(E.open),"data-radix-menu-content":"",dir:A.dir,...U,...b,ref:V,style:{outline:"none",...b.style},onKeyDown:T(b.onKeyDown,v=>{let R=v.target.closest("[data-radix-menu-content]")===v.currentTarget,Q=v.ctrlKey||v.altKey||v.metaKey,me=v.key.length===1;R&&(v.key==="Tab"&&v.preventDefault(),!Q&&me&&$t(v.key));let Te=z.current;if(v.target!==Te||!Ks.includes(v.key))return;v.preventDefault();let Ie=Ae().filter(j=>!j.disabled).map(j=>j.ref.current);$i.includes(v.key)&&Ie.reverse(),dc(Ie)}),onBlur:T(e.onBlur,v=>{v.currentTarget.contains(v.target)||(window.clearTimeout(w.current),te.current="")}),onPointerMove:T(e.onPointerMove,Lt(v=>{let G=v.target,R=qe.current!==v.clientX;if(v.currentTarget.contains(G)&&R){let Q=v.clientX>qe.current?"right":"left";Ye.current=Q,qe.current=v.clientX}}))})})})})})})});ji.displayName=de;var nc="MenuGroup",ln=y.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,P.jsx)(ve.div,{role:"group",...n,ref:t})});ln.displayName=nc;var oc="MenuLabel",Yi=y.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,P.jsx)(ve.div,{...n,ref:t})});Yi.displayName=oc;var dr="MenuItem",Ui="menu.itemSelect",mr=y.forwardRef((e,t)=>{let{disabled:r=!1,onSelect:n,...o}=e,i=y.useRef(null),a=kt(dr,e.__scopeMenu),s=sn(dr,e.__scopeMenu),c=ge(t,i),l=y.useRef(!1),p=()=>{let u=i.current;if(!r&&u){let g=new CustomEvent(Ui,{bubbles:!0,cancelable:!0});u.addEventListener(Ui,h=>n?.(h),{once:!0}),Mo(u,g),g.defaultPrevented?l.current=!1:a.onClose()}};return(0,P.jsx)(qi,{...o,ref:c,disabled:r,onClick:T(e.onClick,p),onPointerDown:u=>{e.onPointerDown?.(u),l.current=!0},onPointerUp:T(e.onPointerUp,u=>{l.current||u.currentTarget?.click()}),onKeyDown:T(e.onKeyDown,u=>{let g=s.searchRef.current!=="";r||g&&u.key===" "||rn.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});mr.displayName=dr;var qi=y.forwardRef((e,t)=>{let{__scopeMenu:r,disabled:n=!1,textValue:o,...i}=e,a=sn(dr,r),s=Xi(r),c=y.useRef(null),l=ge(t,c),[p,u]=y.useState(!1),[g,h]=y.useState("");return y.useEffect(()=>{let d=c.current;d&&h((d.textContent??"").trim())},[i.children]),(0,P.jsx)(_t.ItemSlot,{scope:r,disabled:n,textValue:o??g,children:(0,P.jsx)(Hi,{asChild:!0,...s,focusable:!n,children:(0,P.jsx)(ve.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:l,onPointerMove:T(e.onPointerMove,Lt(d=>{n?a.onItemLeave(d):(a.onItemEnter(d),d.defaultPrevented||d.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:T(e.onPointerLeave,Lt(d=>a.onItemLeave(d))),onFocus:T(e.onFocus,()=>u(!0)),onBlur:T(e.onBlur,()=>u(!1))})})})}),ic="MenuCheckboxItem",Zi=y.forwardRef((e,t)=>{let{checked:r=!1,onCheckedChange:n,...o}=e;return(0,P.jsx)(ta,{scope:e.__scopeMenu,checked:r,children:(0,P.jsx)(mr,{role:"menuitemcheckbox","aria-checked":fr(r)?"mixed":r,...o,ref:t,"data-state":dn(r),onSelect:T(o.onSelect,()=>n?.(fr(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Zi.displayName=ic;var zi="MenuRadioGroup",[ac,sc]=it(zi,{value:void 0,onValueChange:()=>{}}),Qi=y.forwardRef((e,t)=>{let{value:r,onValueChange:n,...o}=e,i=mt(n);return(0,P.jsx)(ac,{scope:e.__scopeMenu,value:r,onValueChange:i,children:(0,P.jsx)(ln,{...o,ref:t})})});Qi.displayName=zi;var Wi="MenuRadioItem",ea=y.forwardRef((e,t)=>{let{value:r,...n}=e,o=sc(Wi,e.__scopeMenu),i=r===o.value;return(0,P.jsx)(ta,{scope:e.__scopeMenu,checked:i,children:(0,P.jsx)(mr,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":dn(i),onSelect:T(n.onSelect,()=>o.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});ea.displayName=Wi;var un="MenuItemIndicator",[ta,cc]=it(un,{checked:!1}),ra=y.forwardRef((e,t)=>{let{__scopeMenu:r,forceMount:n,...o}=e,i=cc(un,r);return(0,P.jsx)(Et,{present:n||fr(i.checked)||i.checked===!0,children:(0,P.jsx)(ve.span,{...o,ref:t,"data-state":dn(i.checked)})})});ra.displayName=un;var lc="MenuSeparator",na=y.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,P.jsx)(ve.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});na.displayName=lc;var uc="MenuArrow",oa=y.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e,o=Nt(r);return(0,P.jsx)(_o,{...o,...n,ref:t})});oa.displayName=uc;var pn="MenuSub",[pc,ia]=it(pn),aa=e=>{let{__scopeMenu:t,children:r,open:n=!1,onOpenChange:o}=e,i=Ke(pn,t),a=Nt(t),[s,c]=y.useState(null),[l,p]=y.useState(null),u=mt(o);return y.useEffect(()=>(i.open===!1&&u(!1),()=>u(!1)),[i.open,u]),(0,P.jsx)(Nr,{...a,children:(0,P.jsx)(Vi,{scope:t,open:n,onOpenChange:u,content:l,onContentChange:p,children:(0,P.jsx)(pc,{scope:t,contentId:Xe(),triggerId:Xe(),trigger:s,onTriggerChange:c,children:r})})})};aa.displayName=pn;var xt="MenuSubTrigger",sa=y.forwardRef((e,t)=>{let r=Ke(xt,e.__scopeMenu),n=kt(xt,e.__scopeMenu),o=ia(xt,e.__scopeMenu),i=sn(xt,e.__scopeMenu),a=y.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:c}=i,l={__scopeMenu:e.__scopeMenu},p=y.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return y.useEffect(()=>p,[p]),y.useEffect(()=>{let u=s.current;return()=>{window.clearTimeout(u),c(null)}},[s,c]),(0,P.jsx)(on,{asChild:!0,...l,children:(0,P.jsx)(qi,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":ua(r.open),...e,ref:Zt(t,o.onTriggerChange),onClick:u=>{e.onClick?.(u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:T(e.onPointerMove,Lt(u=>{i.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!r.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),p()},100))})),onPointerLeave:T(e.onPointerLeave,Lt(u=>{p();let g=r.content?.getBoundingClientRect();if(g){let h=r.content?.dataset.side,d=h==="right",b=d?-5:5,E=g[d?"left":"right"],A=g[d?"right":"left"];i.onPointerGraceIntentChange({area:[{x:u.clientX+b,y:u.clientY},{x:E,y:g.top},{x:A,y:g.top},{x:A,y:g.bottom},{x:E,y:g.bottom}],side:h}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(u),u.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:T(e.onKeyDown,u=>{let g=i.searchRef.current!=="";e.disabled||g&&u.key===" "||js[n.dir].includes(u.key)&&(r.onOpenChange(!0),r.content?.focus(),u.preventDefault())})})})});sa.displayName=xt;var ca="MenuSubContent",la=y.forwardRef((e,t)=>{let r=Ji(de,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,i=Ke(de,e.__scopeMenu),a=kt(de,e.__scopeMenu),s=ia(ca,e.__scopeMenu),c=y.useRef(null),l=ge(t,c);return(0,P.jsx)(_t.Provider,{scope:e.__scopeMenu,children:(0,P.jsx)(Et,{present:n||i.open,children:(0,P.jsx)(_t.Slot,{scope:e.__scopeMenu,children:(0,P.jsx)(cn,{id:s.contentId,"aria-labelledby":s.triggerId,...o,ref:l,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{a.isUsingKeyboardRef.current&&c.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:T(e.onFocusOutside,p=>{p.target!==s.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:T(e.onEscapeKeyDown,p=>{a.onClose(),p.preventDefault()}),onKeyDown:T(e.onKeyDown,p=>{let u=p.currentTarget.contains(p.target),g=Ys[a.dir].includes(p.key);u&&g&&(i.onOpenChange(!1),s.trigger?.focus(),p.preventDefault())})})})})})});la.displayName=ca;function ua(e){return e?"open":"closed"}function fr(e){return e==="indeterminate"}function dn(e){return fr(e)?"indeterminate":e?"checked":"unchecked"}function dc(e){let t=document.activeElement;for(let r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function fc(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function mc(e,t,r){let o=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,i=r?e.indexOf(r):-1,a=fc(e,Math.max(i,0));o.length===1&&(a=a.filter(l=>l!==r));let c=a.find(l=>l.toLowerCase().startsWith(o.toLowerCase()));return c!==r?c:void 0}function hc(e,t){let{x:r,y:n}=e,o=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){let s=t[i].x,c=t[i].y,l=t[a].x,p=t[a].y;c>n!=p>n&&r<(l-s)*(n-c)/(p-c)+s&&(o=!o)}return o}function gc(e,t){if(!t)return!1;let r={x:e.clientX,y:e.clientY};return hc(r,t)}function Lt(e){return t=>t.pointerType==="mouse"?e(t):void 0}var pa=Gi,da=on,fa=Ki,ma=ji,ha=ln,ga=Yi,va=mr,ya=Zi,ba=Qi,Pa=ea,Ca=ra,Aa=na,Sa=oa,Ra=aa,Ta=sa,Ia=la;var J=f(C(),1),fn="DropdownMenu",[yc,bc]=$e(fn,[nn]),ee=nn(),[Pc,Ma]=yc(fn),mn=e=>{let{__scopeDropdownMenu:t,children:r,dir:n,open:o,defaultOpen:i,onOpenChange:a,modal:s=!0}=e,c=ee(t),l=K.useRef(null),[p=!1,u]=Dt({prop:o,defaultProp:i,onChange:a});return(0,J.jsx)(Pc,{scope:t,triggerId:Xe(),triggerRef:l,contentId:Xe(),open:p,onOpenChange:u,onOpenToggle:K.useCallback(()=>u(g=>!g),[u]),modal:s,children:(0,J.jsx)(pa,{...c,open:p,onOpenChange:u,dir:n,modal:s,children:r})})};mn.displayName=fn;var Ea="DropdownMenuTrigger",hn=K.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,disabled:n=!1,...o}=e,i=Ma(Ea,r),a=ee(r);return(0,J.jsx)(da,{asChild:!0,...a,children:(0,J.jsx)(ve.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:Zt(t,i.triggerRef),onPointerDown:T(e.onPointerDown,s=>{!n&&s.button===0&&s.ctrlKey===!1&&(i.onOpenToggle(),i.open||s.preventDefault())}),onKeyDown:T(e.onKeyDown,s=>{n||(["Enter"," "].includes(s.key)&&i.onOpenToggle(),s.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});hn.displayName=Ea;var Cc="DropdownMenuPortal",gn=e=>{let{__scopeDropdownMenu:t,...r}=e,n=ee(t);return(0,J.jsx)(fa,{...n,...r})};gn.displayName=Cc;var Da="DropdownMenuContent",vn=K.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=Ma(Da,r),i=ee(r),a=K.useRef(!1);return(0,J.jsx)(ma,{id:o.contentId,"aria-labelledby":o.triggerId,...i,...n,ref:t,onCloseAutoFocus:T(e.onCloseAutoFocus,s=>{a.current||o.triggerRef.current?.focus(),a.current=!1,s.preventDefault()}),onInteractOutside:T(e.onInteractOutside,s=>{let c=s.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,p=c.button===2||l;(!o.modal||p)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vn.displayName=Da;var Ac="DropdownMenuGroup",yn=K.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=ee(r);return(0,J.jsx)(ha,{...o,...n,ref:t})});yn.displayName=Ac;var Sc="DropdownMenuLabel",bn=K.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=ee(r);return(0,J.jsx)(ga,{...o,...n,ref:t})});bn.displayName=Sc;var Rc="DropdownMenuItem",Pn=K.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=ee(r);return(0,J.jsx)(va,{...o,...n,ref:t})});Pn.displayName=Rc;var Tc="DropdownMenuCheckboxItem",Cn=K.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=ee(r);return(0,J.jsx)(ya,{...o,...n,ref:t})});Cn.displayName=Tc;var Ic="DropdownMenuRadioGroup",An=K.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=ee(r);return(0,J.jsx)(ba,{...o,...n,ref:t})});An.displayName=Ic;var Mc="DropdownMenuRadioItem",Sn=K.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=ee(r);return(0,J.jsx)(Pa,{...o,...n,ref:t})});Sn.displayName=Mc;var Ec="DropdownMenuItemIndicator",Rn=K.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=ee(r);return(0,J.jsx)(Ca,{...o,...n,ref:t})});Rn.displayName=Ec;var Dc="DropdownMenuSeparator",Tn=K.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=ee(r);return(0,J.jsx)(Aa,{...o,...n,ref:t})});Tn.displayName=Dc;var wc="DropdownMenuArrow",In=K.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=ee(r);return(0,J.jsx)(Sa,{...o,...n,ref:t})});In.displayName=wc;var wa=e=>{let{__scopeDropdownMenu:t,children:r,open:n,onOpenChange:o,defaultOpen:i}=e,a=ee(t),[s=!1,c]=Dt({prop:n,defaultProp:i,onChange:o});return(0,J.jsx)(Ra,{...a,open:s,onOpenChange:c,children:r})},xc="DropdownMenuSubTrigger",Mn=K.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=ee(r);return(0,J.jsx)(Ta,{...o,...n,ref:t})});Mn.displayName=xc;var _c="DropdownMenuSubContent",En=K.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,o=ee(r);return(0,J.jsx)(Ia,{...o,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});En.displayName=_c;var Lc=mn,Fc=hn,Nc=gn,Dn=vn,kc=yn,Oc=bn,wn=Pn,Bc=Cn,Hc=An,Uc=Sn,$c=Rn,Xc=Tn,xn=In,Vc=wa,Gc=Mn,Jc=En;var hr=f(F());var gr=f(C()),xa=(0,hr.forwardRef)(({className:e,...t},r)=>(0,gr.jsx)(xn,{ref:r,className:N("fill-white dark:fill-zinc-600",e),...t}));xa.displayName="Arrow";var _a=(0,hr.forwardRef)(({className:e,...t},r)=>(0,gr.jsx)(Dn,{ref:r,className:N("bg-white","dark:bg-zinc-600","rounded-md","p-1","space-y-1","shadow-lg","dark:shadow-none","will-change-[opacity,transform]","data-[side=top]:animate-slideDownAndFade","data-[side=right]:animate-slideLeftAndFade","data-[side=bottom]:animate-slideUpAndFade","data-[side=left]:animate-slideRightAndFade",e),...t}));_a.displayName="Content";var La=(0,hr.forwardRef)(({className:e,...t},r)=>(0,gr.jsx)(wn,{ref:r,className:N("group","text-base","leading-none","text-zinc-800","dark:text-zinc-200","rounded","flex","items-center","h-6","py-6 md:py-5","relative","px-4","select-none","outline-none","data-[disabled]:text-zinc-600","data-[disabled]:cursor-not-allowed","dark:data-[disabled]:text-zinc-400","data-[highlighted]:bg-orange-500","data-[highlighted]:text-white",e),...t}));La.displayName="Item";var Ee={..._n,Arrow:xa,Content:_a,Item:La};function De(e,t){if(!t)return;let r=new URL(t),n=+new Date,o=n-36e5;return r.searchParams.set("start",(o*1e3).toString()),r.searchParams.set("end",(n*1e3).toString()),r.searchParams.set("tags",JSON.stringify({"peer.SessionID":e})),r.toString()}var Kn={};Co(Kn,{Action:()=>ol,AlertDialog:()=>Ln,AlertDialogAction:()=>Un,AlertDialogCancel:()=>$n,AlertDialogContent:()=>On,AlertDialogDescription:()=>Hn,AlertDialogOverlay:()=>kn,AlertDialogPortal:()=>Nn,AlertDialogTitle:()=>Bn,AlertDialogTrigger:()=>Fn,Cancel:()=>il,Content:()=>Vn,Description:()=>Jn,Overlay:()=>Xn,Portal:()=>nl,Root:()=>tl,Title:()=>Gn,Trigger:()=>rl,createAlertDialogScope:()=>jc});var ue=f(F(),1);var oe=f(C(),1),Fa="AlertDialog",[Kc,jc]=$e(Fa,[Or]),Fe=Or(),Ln=e=>{let{__scopeAlertDialog:t,...r}=e,n=Fe(t);return(0,oe.jsx)(Jo,{...n,...r,modal:!0})};Ln.displayName=Fa;var Yc="AlertDialogTrigger",Fn=ue.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,o=Fe(r);return(0,oe.jsx)(Ko,{...o,...n,ref:t})});Fn.displayName=Yc;var qc="AlertDialogPortal",Nn=e=>{let{__scopeAlertDialog:t,...r}=e,n=Fe(t);return(0,oe.jsx)(jo,{...n,...r})};Nn.displayName=qc;var Zc="AlertDialogOverlay",kn=ue.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,o=Fe(r);return(0,oe.jsx)(Yo,{...o,...n,ref:t})});kn.displayName=Zc;var yt="AlertDialogContent",[zc,Qc]=Kc(yt),On=ue.forwardRef((e,t)=>{let{__scopeAlertDialog:r,children:n,...o}=e,i=Fe(r),a=ue.useRef(null),s=ge(t,a),c=ue.useRef(null);return(0,oe.jsx)(Go,{contentName:yt,titleName:Na,docsSlug:"alert-dialog",children:(0,oe.jsx)(zc,{scope:r,cancelRef:c,children:(0,oe.jsxs)(qo,{role:"alertdialog",...i,...o,ref:s,onOpenAutoFocus:T(o.onOpenAutoFocus,l=>{l.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:l=>l.preventDefault(),onInteractOutside:l=>l.preventDefault(),children:[(0,oe.jsx)(Io,{children:n}),(0,oe.jsx)(el,{contentRef:a})]})})})});On.displayName=yt;var Na="AlertDialogTitle",Bn=ue.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,o=Fe(r);return(0,oe.jsx)(Zo,{...o,...n,ref:t})});Bn.displayName=Na;var ka="AlertDialogDescription",Hn=ue.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,o=Fe(r);return(0,oe.jsx)(zo,{...o,...n,ref:t})});Hn.displayName=ka;var Wc="AlertDialogAction",Un=ue.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,o=Fe(r);return(0,oe.jsx)(Br,{...o,...n,ref:t})});Un.displayName=Wc;var Oa="AlertDialogCancel",$n=ue.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,{cancelRef:o}=Qc(Oa,r),i=Fe(r),a=ge(t,o);return(0,oe.jsx)(Br,{...i,...n,ref:a})});$n.displayName=Oa;var el=({contentRef:e})=>{let t=`\`${yt}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${yt}\` by passing a \`${ka}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${yt}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return ue.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},tl=Ln,rl=Fn,nl=Nn,Xn=kn,Vn=On,ol=Un,il=$n,Gn=Bn,Jn=Hn;var Ot=f(F());var bt=f(C()),Ba=(0,Ot.forwardRef)(({className:e,...t},r)=>(0,bt.jsx)(Xn,{ref:r,className:N("fixed inset-0 bg-black opacity-40",e),...t}));Ba.displayName="Overlay";var Ha=(0,Ot.forwardRef)(({className:e,children:t,...r},n)=>(0,bt.jsx)(Vn,{ref:n,className:N("fixed","rounded-lg","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","min-w-[min(400px,95vw)]","max-w-[95vw]","max-h-[85vh]","overflow-y-auto","p-6","bg-inherit","shadow-xl","dark:shadow-none"),...r,children:t}));Ha.displayName="Content";var Ua=(0,Ot.forwardRef)(({className:e,...t},r)=>(0,bt.jsx)(Gn,{ref:r,className:N("text-zinc-800 dark:text-zinc-200 m-0 text-base font-medium",e),...t}));Ua.displayName="Title";var $a=(0,Ot.forwardRef)(({className:e,...t},r)=>(0,bt.jsx)(Jn,{ref:r,className:N("text-zinc-500 dark:text-zinc-400 mt-4 mb-5 text-sm leading-normal",e),...t}));$a.displayName="Description";var al=({children:e,className:t})=>(0,bt.jsx)("div",{className:N("flex justify-end gap-4",t),children:e}),Pe={...Kn,Overlay:Ba,Content:Ha,Title:Ua,Description:$a,Actions:al};var X=f(C()),vr=({user:e,displayType:t="secondary",mutedDisplayType:r="danger"})=>{let{room:n}=x(),{data:o}=Ve(e.name);return(0,X.jsxs)(Pe.Root,{children:[e.tracks.audioEnabled?(0,X.jsx)(ne,{content:`Mute ${o==null?void 0:o.displayName}`,children:(0,X.jsx)(Pe.Trigger,{asChild:!0,children:(0,X.jsx)(B,{displayType:t,disabled:!e.tracks.audioEnabled,children:(0,X.jsx)(D,{type:"micOn"})})})}):(0,X.jsx)(ne,{content:"Cannot unmute",children:(0,X.jsx)(B,{displayType:r,disabled:!0,children:(0,X.jsx)(D,{type:"micOff"})})}),(0,X.jsxs)(Pe.Portal,{children:[(0,X.jsx)(Pe.Overlay,{}),(0,X.jsxs)(Pe.Content,{onCloseAutoFocus:i=>i.preventDefault(),children:[(0,X.jsxs)(Pe.Title,{children:["Mute ",o==null?void 0:o.displayName]}),(0,X.jsx)(Pe.Description,{children:"They will need to unmute themselves to be heard again."}),(0,X.jsxs)(Pe.Actions,{children:[(0,X.jsx)(Pe.Cancel,{asChild:!0,children:(0,X.jsx)(B,{className:"text-sm",displayType:"secondary",children:"Cancel"})}),(0,X.jsx)(Pe.Action,{asChild:!0,children:(0,X.jsx)(B,{onClick:()=>{n.websocket.send(JSON.stringify({type:"muteUser",id:e.id}))},className:"text-sm",displayType:"danger",children:"Mute"})})]})]})]})]})};var jn=f(C());function Pt({children:e,className:t,href:r,...n}){return r===void 0?(0,jn.jsx)("span",{className:t,children:e}):(0,jn.jsx)("a",{href:r,className:N("no-underline hover:underline",t),...n,children:e})}var br=f(F());var Ne=f(F());function sl(e,t){let[r,n]=t.split("/");return e.pullTrack({location:"remote",sessionId:r,trackName:n})}function Yn(e){let{peer:t}=x(),[r,n]=(0,Ne.useState)({}),o=(0,Ne.useRef)({}),i=(0,Ne.useRef)(e);i.current=e;let a=(0,Ne.useRef)(!0);return ft(()=>{a.current=!1}),(0,Ne.useEffect)(()=>{if(!t)return;e.forEach(c=>{if(r[c]||o.current[c]!==void 0)return;let p=sl(t,c).then(u=>(a.current&&(i.current.includes(c)?(n(g=>({...g,[c]:u})),delete o.current[c]):t.closeTrack(u)),u));o.current[c]=p});let s=new Set(e);Object.entries(r).forEach(([c,l])=>{s.has(c)||(t.closeTrack(l),n(p=>{let u={...p};return delete u[c],u}))})},[t,r,e]),(0,Ne.useEffect)(()=>{if(!t)return;let s=o.current;return()=>{a.current||(Object.values(s).forEach(c=>{c.then(l=>t.closeTrack(l))}),Object.values(r).forEach(c=>t.closeTrack(c)))}},[t,r]),r}var yr=f(F()),Va=f(C()),Xa=({mediaStreamTrack:e})=>{let t=(0,yr.useRef)(null);return(0,yr.useEffect)(()=>{let r=t.current;if(!r)return;let n=new MediaStream;n.addTrack(e),r.srcObject=n},[e]),(0,Va.jsx)("audio",{ref:t,autoPlay:!0})};var Cr=f(C()),Ga=(0,br.createContext)({}),Ja=({audioTracks:e,children:t})=>{let r=Yn(e);return(0,Cr.jsxs)(Ga.Provider,{value:r,children:[Object.entries(r).map(([n,o])=>(0,Cr.jsx)(Xa,{mediaStreamTrack:o},n)),t]})};function cl(){return(0,br.useContext)(Ga)}function Pr(e){let t=cl();return e?t[e]:void 0}var H=f(C()),Ka=({user:e,audioTrack:t})=>{let{traceLink:r}=x(),{data:n}=Ve(e.name);return(0,H.jsxs)("li",{className:"flex items-center gap-4 text-base h-9",children:[(0,H.jsx)("div",{className:"mr-auto overflow-hidden whitespace-nowrap text-ellipsis",children:(0,H.jsx)(Pt,{href:e.transceiverSessionId?De(e.transceiverSessionId,r):void 0,target:"_blank",rel:"noopener noreferrer",children:n==null?void 0:n.displayName})}),t&&e.tracks.audioEnabled&&(0,H.jsx)("div",{className:"px-5",children:(0,H.jsx)(Qt,{audioTrack:t})}),(0,H.jsx)(vr,{user:e})]})},ll=({user:e})=>{let t=Pr(e.tracks.audio);return(0,H.jsx)(Ka,{user:e,audioTrack:t})},Ar=e=>`${e} Participant${e>1?"s":""}`,ja=({className:e,...t})=>{let{room:{otherUsers:r}}=x();return(0,H.jsx)(qn,{...t,children:(0,H.jsx)(ne,{content:Ar(r.length+1),children:(0,H.jsx)(Qo,{asChild:!0,children:(0,H.jsx)(B,{className:N("relative",e),displayType:"secondary",children:(0,H.jsx)(D,{type:"userGroup"})})})})})},qn=({children:e,otherUsers:t,identity:r,open:n,onOpenChange:o})=>{let{userMedia:i}=x();return(0,H.jsxs)(or,{open:n,onOpenChange:o,children:[e,(0,H.jsxs)(ir,{children:[(0,H.jsx)(rr,{}),(0,H.jsx)(nr,{children:(0,H.jsxs)("div",{className:"space-y-4",children:[(0,H.jsx)("h2",{className:"text-xl font-bold",children:Ar(t.length+1)}),(0,H.jsxs)("ul",{className:"space-y-2",children:[r&&(0,H.jsx)(Ka,{user:r,audioTrack:i.audioStreamTrack,children:r.name}),t.map(a=>(0,H.jsx)(ll,{user:a},a.id))]})]})})]})]})};var je=f(F());function Zn(e=2e3){let[t,r]=(0,je.useState)(!1),n=(0,je.useRef)(-1),o=(0,je.useCallback)(i=>{navigator.clipboard.writeText(i),r(!0),clearTimeout(n.current),n.current=window.setTimeout(()=>{r(!1)},e)},[e]);return(0,je.useEffect)(()=>()=>{clearTimeout(n.current)},[]),[t,o]}var Ya=f(F());var qa=f(C()),Sr=(0,Ya.forwardRef)(({className:e,...t},r)=>(0,qa.jsx)("textarea",{ref:r,className:N("bg-zinc-50 dark:bg-zinc-600 text-base border-2 border-zinc-500 w-full resize-none block p-2 rounded",e),...t}));Sr.displayName="TextArea";var k=f(C()),Za=({onOpenChange:e})=>(0,k.jsx)(or,{open:!0,onOpenChange:e,children:(0,k.jsxs)(ir,{children:[(0,k.jsx)(rr,{}),(0,k.jsx)(nr,{children:(0,k.jsx)(ul,{})})]})}),ul=()=>{let{Form:e,data:t,state:r}=So(),{room:n,peerDebugInfo:o}=x(),{roomName:i}=Yt(),{roomState:a,identity:s}=n,c={roomState:a,roomName:i,identity:s,peerDebugInfo:o,url:typeof location!="undefined"?location.href:void 0},[l,p]=Zn(),u=JSON.stringify(c,null,2);return t?(0,k.jsxs)("div",{className:"space-y-4",children:[(0,k.jsx)(Hr,{children:"Thank you!"}),(0,k.jsx)(Ur,{children:"Your report has been submitted!"})]}):(0,k.jsxs)("div",{className:"space-y-4",children:[(0,k.jsx)(Hr,{children:"Report a bug"}),(0,k.jsx)(Ur,{children:"The Calls team will be notified with tracing details."}),(0,k.jsxs)("details",{className:"cursor-pointer",children:[(0,k.jsx)("summary",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Debug Info (included automatically)"}),(0,k.jsxs)("div",{className:"space-y-4",children:[(0,k.jsx)("div",{}),(0,k.jsx)(B,{className:"text-sm",onClick:()=>{p(u)},children:l?"Copied!":"Copy"}),(0,k.jsx)(Sr,{rows:10,readOnly:!0,defaultValue:u})]})]}),(0,k.jsxs)(e,{method:"post",action:"/api/bugReport",children:[(0,k.jsxs)("div",{className:"space-y-4",children:[(0,k.jsx)(Wo,{className:"font-bold",children:"Description"}),(0,k.jsx)(Sr,{name:"description",rows:8})]}),(0,k.jsx)("input",{name:"info",type:"hidden",value:JSON.stringify(c)}),(0,k.jsx)(B,{className:"mt-4 text-sm",type:"submit",disabled:r==="submitting",children:r==="submitting"?"Submitting...":"Submit"})]})]})};var O=f(C()),za=({bugReportsEnabled:e})=>{let{room:{otherUsers:t,identity:r}}=x(),[n,o]=(0,Rr.useState)(!1),[i,a]=(0,Rr.useState)(!1),[s,c]=(0,Rr.useState)(!1),l=No();return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(Ee.Root,{children:[(0,O.jsx)(Ee.Trigger,{asChild:!0,children:(0,O.jsxs)(B,{displayType:"secondary",children:[(0,O.jsx)(ye,{children:"More options"}),(0,O.jsx)(D,{type:"EllipsisVerticalIcon"})]})}),(0,O.jsx)(Ee.Portal,{children:(0,O.jsxs)(Ee.Content,{sideOffset:5,children:[(0,O.jsxs)(Ee.Item,{onSelect:()=>navigator.clipboard.writeText(l),children:[(0,O.jsx)(D,{type:"ClipboardDocumentIcon",className:"mr-2"}),"Copy URL"]}),(0,O.jsxs)(Ee.Item,{onSelect:()=>{o(!0)},children:[(0,O.jsx)(D,{type:"cog",className:"mr-2"}),"Settings"]}),e&&(0,O.jsxs)(Ee.Item,{onSelect:()=>{a(!0)},children:[(0,O.jsx)(D,{type:"bug",className:"mr-2"}),"Report bug"]}),(0,O.jsxs)(Ee.Item,{className:"md:hidden",onSelect:()=>{c(!0)},children:[(0,O.jsx)(D,{type:"userGroup",className:"mr-2"}),Ar(t.length+1)]}),(0,O.jsx)(Ee.Arrow,{})]})})]}),n&&(0,O.jsx)(ei,{open:!0,onOpenChange:o}),e&&i&&(0,O.jsx)(Za,{onOpenChange:a}),s&&(0,O.jsx)(qn,{otherUsers:t,identity:r,open:!0,onOpenChange:c})]})};var Tr=f(F());var at=f(F());function zn(e,t,r,n,o){var g;let[i,a]=(0,at.useState)(!1),{peer:s,traceLink:c,room:l,feedbackEnabled:p}=x(),u=(0,at.useRef)(-1);(0,at.useEffect)(()=>{if(!(!s||!n||!r||i||!p))return u.current=window.setTimeout(()=>{s.pc.getStats(n).then(h=>{if(u.current===-1)return;let d=[...h.values()].find(b=>b.trackIdentifier===n.id);(d==null?void 0:d.bytesReceived)===0&&a(!0)})},1e4),()=>{clearTimeout(u.current),u.current=-1}},[i,r,p,s,n]),(0,at.useEffect)(()=>{var A,U;if(!(s!=null&&s.sessionId)||!i||!p)return;let h=De(s.sessionId,c),[d,b]=(A=e==null?void 0:e.split("/"))!=null?A:[],E=De(d,c);if(E&&h){let ae={pullSessionTrace:h,pushedSessionTrace:E,trackId:b,pullingUser:(U=l.identity)==null?void 0:U.name,pushingUser:o};fetch("/api/deadTrack",{method:"POST",body:JSON.stringify(ae)})}},[i,p,o,s==null?void 0:s.sessionId,(g=l.identity)==null?void 0:g.name,t,c,e])}var Qa=f(C()),Qn=({audioTrack:e,children:t,className:r,type:n})=>{let o=Eo(e);return(0,Qa.jsx)("span",{className:N(n==="text"?"orange-glow-text":"orange-glow-box","opacity-[--opacity] transition-opacity",r),style:{"--opacity":Math.min(1,o*4)},"aria-hidden":!0,children:t})};var Bt=f(F());var es=f(C()),Wa=({timeout:e=2e3,children:t,className:r})=>{let[n,o]=(0,Bt.useState)(0),[i,a]=(0,Bt.useState)(!1);return(0,Bt.useEffect)(()=>{let s=!0;if(i){let c=setTimeout(()=>{s&&a(!1)},e);return()=>{clearTimeout(c)}}},[e,i,n]),(0,es.jsx)("div",{className:N("hover-fade",!i&&"inactive",r),onPointerLeave:()=>{a(!1)},onPointerMove:()=>{a(!0),o(Date.now())},children:t})};var M=f(C()),st=(0,Tr.forwardRef)(({videoTrack:e,isSelf:t=!1,flipId:r,user:n,isScreenShare:o=!1,audioTrack:i,pinnedId:a,setPinnedId:s},c)=>{let{data:l}=Ve(n.name),{traceLink:p}=x();zn(n.tracks.video,n.transceiverSessionId,n.tracks.videoEnabled,e,n.name),zn(n.tracks.audio,n.transceiverSessionId,n.tracks.audioEnabled,i,n.name);let u=r===a;return(0,Tr.useEffect)(()=>{o&&s(r)},[r,o,s]),(0,M.jsx)("div",{className:"grow shrink text-base basis-[calc(var(--flex-container-width)_-_var(--gap)_*_3)]",ref:c,children:(0,M.jsx)(Qr,{flipId:r+u,children:(0,M.jsxs)("div",{className:N("h-full mx-auto overflow-hidden text-white opacity-0 animate-fadeIn",u?"absolute inset-0 h-full w-full z-10 rounded-none bg-black":"relative max-w-[--participant-max-width] rounded-xl"),children:[!o&&(0,M.jsx)("div",{className:N("absolute inset-0 h-full w-full grid place-items-center"),children:(0,M.jsx)("div",{className:"h-[2em] w-[2em] grid place-items-center text-4xl md:text-6xl 2xl:text-8xl relative",children:l!=null&&l.photob64?(0,M.jsxs)("div",{children:[(0,M.jsx)(Qn,{className:"absolute inset-0 w-full h-full rounded-full",audioTrack:i,type:"box"}),(0,M.jsx)("img",{className:"rounded-full",src:`data:image/png;base64,${l.photob64}`,alt:l.displayName})]}):(0,M.jsxs)("span",{className:"relative grid w-full h-full uppercase rounded-full place-items-center bg-zinc-500",children:[n.speaking&&(0,M.jsx)(Qn,{type:"text",className:"absolute uppercase",audioTrack:i,children:n.name.charAt(0)}),n.name.charAt(0)]})})}),(0,M.jsx)(Ho,{className:N("absolute inset-0 h-full w-full object-contain opacity-0 transition-opacity",t&&!o&&"-scale-x-100",{"opacity-100":o?n.tracks.screenShareEnabled:n.tracks.videoEnabled},t&&o&&"opacity-75"),videoTrack:e}),(0,M.jsx)(Wa,{className:"absolute inset-0 grid w-full h-full place-items-center",children:(0,M.jsxs)("div",{className:"flex gap-2 p-2 rounded bg-zinc-900/30",children:[(0,M.jsx)(ne,{content:u?"Restore":"Maximize",children:(0,M.jsx)(B,{onClick:()=>s(u?void 0:r),displayType:"ghost",children:(0,M.jsx)(D,{type:u?"arrowsIn":"arrowsOut"})})}),!o&&(0,M.jsx)(vr,{displayType:"ghost",mutedDisplayType:"ghost",user:n})]})}),i&&(0,M.jsxs)("div",{className:"absolute left-4 top-4",children:[n.tracks.audioEnabled&&n.tracks.videoEnabled&&n.speaking&&(0,M.jsx)(Qt,{audioTrack:i}),!n.tracks.audioEnabled&&(0,M.jsx)(ne,{content:"Mic is turned off",children:(0,M.jsxs)("div",{className:"indication-shadow",children:[(0,M.jsx)(D,{type:"micOff"}),(0,M.jsx)(ye,{children:"Mic is turned off"})]})})]}),(l==null?void 0:l.displayName)&&n.transceiverSessionId&&(0,M.jsx)(Pt,{className:"absolute m-2 leading-none text-shadow left-1 bottom-1",href:De(n.transceiverSessionId,p),target:"_blank",rel:"noopener noreferrer",children:l.displayName}),(0,M.jsx)("div",{className:"absolute top-0 right-0 flex gap-4 p-4",children:n.raisedHand&&(0,M.jsx)(ne,{content:"Hand is raised",children:(0,M.jsx)("div",{className:"relative",children:(0,M.jsxs)("div",{className:"relative",children:[(0,M.jsx)(D,{className:"indication-shadow",type:"handRaised"}),(0,M.jsx)(D,{className:"absolute top-0 left-0 text-orange-300 animate-ping",type:"handRaised"}),(0,M.jsx)(ye,{children:"Hand is raised"})]})})})}),n.speaking&&(0,M.jsx)("div",{className:N("pointer-events-none absolute inset-0 h-full w-full border-4 border-orange-400",!u&&"rounded-xl")})]})})})});st.displayName="CallGridChild";var Ht=f(F());var Ir=({video:e,audio:t,children:r})=>{let{peer:n}=x(),[o,i]=(0,Ht.useState)(),a=Pr(t);return(0,Ht.useEffect)(()=>{if(!e||!n)return;let s=!0,c=ti(()=>{let[l,p]=e.split("/");return n.pullTrack({location:"remote",sessionId:l,trackName:p}).then(u=>{s&&i(u)})});return()=>{c(),s=!1}},[n,e]),(0,Ht.useEffect)(()=>{if(o&&n)return()=>{n.closeTrack(o)}},[o,n]),r({videoTrack:o,audioTrack:a})};var ts="/build/_assets/Join-5QBI6SQX.mp3";var rs="/build/_assets/Leave-W3LFEYQC.mp3";var ns="/build/_assets/RaiseHand-42IIBYRT.mp3";var ml=async(...e)=>{zt(!e.some(o=>o instanceof Request),"fetchOnce cannot cache with Request parameters");let t=new Map,r=JSON.stringify(e),n=t.get(r);return n||(n=await fetch(...e),t.set(r,n)),n.clone()},hl={leave:rs,join:ts,raiseHand:ns},gl={join:.2,leave:.2,raiseHand:.1};async function ke(e){let t=await ml(hl[e]).then(a=>a.arrayBuffer()),r=new AudioContext,n=await r.decodeAudioData(t),o=r.createBufferSource(),i=r.createGain();o.buffer=n,o.connect(i),i.connect(r.destination),i.gain.setValueAtTime(gl[e],r.currentTime),o.start()}var Mr=f(C()),os=({raisedHand:e,onClick:t})=>(0,Mr.jsx)(ne,{content:e?"Lower hand":"Raise Hand",children:(0,Mr.jsx)(B,{displayType:e?"primary":"secondary",onClick:r=>{t&&t(),e||ke("raiseHand")},children:(0,Mr.jsx)(D,{type:"handRaised"})})});var Er=f(F());var Ct=f(C()),is=()=>{let{userMedia:{screenShareVideoTrack:e,startScreenShare:t,endScreenShare:r}}=x(),n=e!==void 0,[o,i]=(0,Er.useState)(!0);return(0,Er.useEffect)(()=>{i(typeof navigator.mediaDevices!="undefined"&&navigator.mediaDevices.getDisplayMedia!==void 0)},[]),o?(0,Ct.jsx)(ne,{content:n?"Stop sharing":"Share screen",children:(0,Ct.jsxs)(B,{displayType:n?"danger":"secondary",onClick:n?r:t,children:[(0,Ct.jsx)(ye,{children:"Share screen"}),(0,Ct.jsx)(D,{type:"screenshare"})]})}):null};var as=f(F());function Wn({userMedia:e,identity:t,websocket:r,peer:n,pushedTracks:o,raisedHand:i,speaking:a}){let{audioEnabled:s,videoEnabled:c,screenShareEnabled:l}=e,{audio:p,video:u,screenshare:g}=o,h=t==null?void 0:t.id,d=t==null?void 0:t.name;(0,as.useEffect)(()=>{if(h&&d){let A=function(){r.send(JSON.stringify({type:"userUpdate",user:E}))};var b=A;let E={id:h,name:d,joined:!0,raisedHand:i,speaking:a,transceiverSessionId:n==null?void 0:n.sessionId,tracks:{audioEnabled:s,videoEnabled:c,screenShareEnabled:l,video:u,audio:p,screenshare:g}};return A(),r.addEventListener("open",A),()=>r.removeEventListener("open",A)}},[h,d,r,n==null?void 0:n.sessionId,p,u,g,s,c,l,i,a]),ft(()=>{h&&d&&r.send(JSON.stringify({type:"userUpdate",user:{id:h,name:d,joined:!1,raisedHand:i,speaking:a,transceiverSessionId:n==null?void 0:n.sessionId,tracks:{}}}))})}var eo=f(F());function to(e){let t=_r(e.length);(0,eo.useEffect)(()=>{e.length>5||t===void 0||t===e.length||(e.length>t?ke("join"):ke("leave"))},[t,e.length]);let r=e.filter(o=>o.raisedHand).length,n=_r(r);(0,eo.useEffect)(()=>{n===void 0||r===n||r>n&&ke("raiseHand")},[r,n]),qt(()=>{ke("join")}),ft(()=>{ke("leave")})}var Ce=f(F()),vl=(e,t)=>{let r=new Map(t.map(i=>[i.id,i])),n=new Map(e.map(i=>[i.id,i])),o=t.filter(({id:i})=>!n.has(i));return e.reduce((i,a)=>{let s=r.get(a.id);if(s===void 0){let c=o[0];if(!c)return i;i.push(c),o.splice(0,1)}else i.push(s);return i},[]).concat(o)};function ro(e,t){let[r,n]=(0,Ce.useState)(e.slice(0,t)),[o,i]=(0,Ce.useState)({}),a=(0,Ce.useCallback)(l=>{i(p=>({...p,[l.id]:Date.now()}))},[]),s=(0,Ce.useMemo)(()=>[...e].sort((l,p)=>{var u,g;return((u=o[p.id])!=null?u:0)-((g=o[l.id])!=null?g:0)}).slice(0,t),[o,e,t]),c=(0,Ce.useMemo)(()=>e.filter(l=>o[l.id]===void 0),[o,e]);return(0,Ce.useEffect)(()=>{c.forEach(a)},[c,a]),(0,Ce.useEffect)(()=>{n(l=>vl(l,s))},[s,t]),{actorsOnStage:r,recordActivity:a}}var Ut=f(F());var we=f(C());function ss(e){let{traceLink:t}=x(),{data:r}=Ve(e.user.name);return(0,we.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm",children:[(0,we.jsxs)(be.Title,{children:[(0,we.jsx)(Pt,{href:e.user.transceiverSessionId?De(e.user.transceiverSessionId,t):void 0,target:"_blank",rel:"noopener noreferrer",children:r==null?void 0:r.displayName})," ",e.type]}),(0,we.jsxs)(be.Close,{className:"flex items-center justify-center w-5 h-5 px-1 rounded hover:bg-zinc-200 dark:hover:bg-zinc-600",children:[(0,we.jsx)("span",{"aria-hidden":!0,children:"\xD7"}),(0,we.jsx)(ye,{children:"Dismiss"})]})]})}function cs(e){let[t,r]=(0,Ut.useState)(e),n=Oo();(0,Ut.useEffect)(()=>{let o=e.filter(a=>!t.some(s=>s.id===a.id)),i=t.filter(a=>!e.some(s=>s.id===a.id));o.forEach(a=>n((0,we.jsx)(ss,{user:a,type:"joined"}))),i.forEach(a=>n((0,we.jsx)(ss,{user:a,type:"left"})))},[n,t,e]),(0,Ut.useEffect)(()=>{r(e)},[e])}function yl(e){let t=Math.ceil(Math.sqrt(e)),r=[{rows:t,cols:t}];for(let n=1;n<t;n++)r.push({rows:n,cols:Math.ceil(e/n)});for(let n=1;n<t;n++)r.push({cols:n,rows:Math.ceil(e/n)});return r}function ls(e){let{count:t,height:r,width:n}=e;if(r===0||n===0)return{cols:0,rows:0};let o=null,i=0,a=4/3;for(let s of yl(t)){let c=r/s.rows,l=n/s.cols,u=(c>l?"width":"height")==="height"?a*c*c:1/a*l*l;u>i&&(i=u,o=s)}return zt(o),o}var Pl=f(Cs());function no(e){return e!=null}var I=f(C());function Cl({initialCount:e,defaultEnabled:t}={initialCount:0,defaultEnabled:!1}){let[r,n]=(0,ie.useState)(t),[o,i]=(0,ie.useState)(Array.from({length:e}).map(()=>kr()));return(0,ie.useEffect)(()=>{let s=c=>{c.key.toLowerCase()==="d"&&c.ctrlKey&&(c.preventDefault(),n(!r))};return document.addEventListener("keypress",s),()=>{document.removeEventListener("keypress",s)}},[r]),{GridDebugControls:(0,ie.useCallback)(()=>r?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(B,{onClick:()=>i(s=>[...s,kr(14)]),children:(0,I.jsx)(D,{type:"PlusIcon"})}),(0,I.jsx)(B,{onClick:()=>{i(s=>{let c=s[Math.floor(Math.random()*s.length)];return s.filter(l=>l!==c)})},children:(0,I.jsx)(D,{type:"MinusIcon"})})]}):null,[r]),fakeUsers:o}}function us(){let{joined:e}=x(),t=jt(),{roomName:r}=Yt(),{mode:n,bugReportsEnabled:o}=Ao();return(0,ie.useEffect)(()=>{!e&&n!=="development"&&t(`/${r}`)},[e,n,t,r]),!e&&n!=="development"?null:(0,I.jsx)(be.Provider,{children:(0,I.jsx)(Al,{bugReportsEnabled:o})})}function Al({bugReportsEnabled:e}){let{userMedia:t,peer:r,pushedTracks:n,room:{otherUsers:o,websocket:i,identity:a}}=x(),{GridDebugControls:s,fakeUsers:c}=Cl({defaultEnabled:!1,initialCount:0}),[l,{width:p,height:u}]=Lr(),[g,{width:h}]=Lr(),d=1+c.length+o.length,[b,E]=(0,ie.useState)(!1),A=ko(t.audioStreamTrack);qt(()=>{o.length>5&&t.turnMicOff()}),Wn({userMedia:t,peer:r,websocket:i,identity:a,pushedTracks:n,raisedHand:b,speaking:A}),to(o),cs(o);let{width:U}=Ro(),ae=U<600?2:8,{recordActivity:Ae,actorsOnStage:Se}=ro(o,ae);(0,ie.useEffect)(()=>{o.forEach(w=>{(w.speaking||w.raisedHand||w.tracks.screenShareEnabled)&&Ae(w)})},[o,Ae]);let[se,z]=(0,ie.useState)(),V=(0,ie.useMemo)(()=>100/ls({count:d,height:u,width:p}).cols+"%",[d,u,p]);return(0,I.jsxs)(Ja,{audioTracks:o.map(w=>w.tracks.audio).filter(no),children:[(0,I.jsxs)("div",{className:"flex flex-col h-full bg-white dark:bg-zinc-800",children:[(0,I.jsxs)(zr,{flipKey:d,className:"relative flex-grow overflow-hidden isolate",children:[(0,I.jsxs)("div",{className:"absolute inset-0 h-full w-full bg-black isolate flex flex-wrap justify-around gap-[--gap] p-[--gap]",style:{"--gap":"1rem","--flex-container-width":V,"--participant-max-width":h+"px"},ref:l,children:[a&&t.audioStreamTrack&&(0,I.jsx)(st,{user:a,isSelf:!0,flipId:"identity user",ref:g,videoTrack:t.videoStreamTrack,audioTrack:t.audioStreamTrack,pinnedId:se,setPinnedId:z}),a&&t.screenShareVideoTrack&&t.screenShareEnabled&&(0,I.jsx)(st,{user:a,flipId:"identity user screenshare",isSelf:!0,isScreenShare:!0,videoTrack:t.screenShareVideoTrack,pinnedId:se,setPinnedId:z}),Se.map(w=>(0,I.jsxs)(ie.Fragment,{children:[(0,I.jsx)(Ir,{video:w.tracks.video,audio:w.tracks.audio,children:({videoTrack:te,audioTrack:Re})=>(0,I.jsx)(st,{user:w,flipId:w.id,videoTrack:te,audioTrack:Re,pinnedId:se,setPinnedId:z})}),w.tracks.screenshare&&w.tracks.screenShareEnabled&&(0,I.jsx)(Ir,{video:w.tracks.screenshare,children:({videoTrack:te})=>(0,I.jsx)(st,{user:w,videoTrack:te,flipId:w.id+"screenshare",isScreenShare:!0,pinnedId:se,setPinnedId:z})})]},w.id)),a&&t.audioStreamTrack&&t.videoStreamTrack&&c.map(w=>(0,I.jsx)(Ir,{video:a.tracks.video,audio:a.tracks.audio,children:({videoTrack:te})=>(0,I.jsx)(st,{user:a,isSelf:!0,videoTrack:te,audioTrack:t.audioStreamTrack,flipId:w.toString(),pinnedId:se,setPinnedId:z},w)}))]}),(0,I.jsx)(be.Viewport,{})]}),(0,I.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-2 p-2 text-sm md:gap-4 md:p-5 md:text-base",children:[(0,I.jsx)(s,{}),(0,I.jsx)(Bo,{warnWhenSpeakingWhileMuted:!0}),(0,I.jsx)(Fo,{}),(0,I.jsx)(is,{}),(0,I.jsx)(os,{raisedHand:b,onClick:()=>E(!b)}),(0,I.jsx)(ja,{identity:a,otherUsers:o,className:"hidden md:block"}),(0,I.jsx)(za,{bugReportsEnabled:e}),(0,I.jsx)(_i,{})]})]}),(0,I.jsx)(wi,{}),(0,I.jsx)(xi,{})]})}export{us as default};
/*! Bundled license information:

rematrix/dist/rematrix.es.js:
  (*! @license Rematrix v0.2.2
  
  	Copyright 2018 Fisssion LLC.
  
  	Permission is hereby granted, free of charge, to any person obtaining a copy
  	of this software and associated documentation files (the "Software"), to deal
  	in the Software without restriction, including without limitation the rights
  	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
  	copies of the Software, and to permit persons to whom the Software is
  	furnished to do so, subject to the following conditions:
  
  	The above copyright notice and this permission notice shall be included in
  	all copies or substantial portions of the Software.
  
  	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
  	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
  	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
  	THE SOFTWARE.
  *)
*/
//# sourceMappingURL=/build/routes/_room.$roomName.room-2NWK4AIW.js.map
